# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Nuxt 4 educational platform for teaching VS Code features through organized playlists and lessons. The application uses Pinia for state management, Tailwind CSS v4 for styling, and follows Nuxt's convention-based architecture with file-based routing.

## Common Commands

```bash
# Development
npm install              # Install dependencies
npm run dev             # Start dev server on http://localhost:3000
npm run postinstall     # Prepare Nuxt (runs automatically after install)

# Production
npm run build           # Build for production
npm run preview         # Preview production build
npm run generate        # Generate static site

# Code Formatting
npx prettier --write .  # Format all files with Prettier
```

## Architecture Overview

### State Management (Pinia Stores)

The application uses three core Pinia stores that hold all content data (no backend API):

- **`stores/playlists.ts`**: Manages 10 playlists with titles, descriptions, and relationships
  - `getPlaylistBySlug(slug: string)`: Retrieves playlist by URL-safe slug

- **`stores/lessons.ts`**: Manages 60+ individual lessons with metadata
  - `getLessonById(id: number)`: Retrieves specific lesson

- **`stores/tags.ts`**: Manages 16 category tags for filtering
  - `getTagsById(ids: number[])`: Batch retrieves tags by ID array

All stores use composition API syntax with `defineStore()` and are auto-imported throughout the application.

### Routing Pattern

File-based routing with dynamic segments:
- `/` → `pages/index.vue` (landing page)
- `/playlists` → `pages/playlists/index.vue` (playlist gallery)
- `/playlists/[playlistSlug]` → Dynamic playlist page
- `/playlists/[playlistSlug]/lessons/[lessonSlug]` → Nested lesson detail

Routes resolve data via store queries using URL params (no API calls):
```ts
const playlist = usePlaylistsStore().getPlaylistBySlug(useRoute().params.playlistSlug)
```

### Component Hierarchy

40+ Vue components following naming conventions:
- **`App*`**: Global layout components (AppHeader, AppFooter, AppButton, etc.)
- **`Playlist*`**: Playlist-specific components (PlaylistGrid, PlaylistFilters, etc.)
- **`Lesson*`**: Lesson-specific components
- **`Tag*`**: Tag display components

Pages compose these components following a unidirectional data flow pattern where components fetch data from stores and pass props down to children.

### Utilities

- **`utils/slugify.ts`**: Converts text to URL-safe slugs (`"VS Code Settings"` → `"vs-code-settings"`)
- **`utils/getPlaylistLink.ts`**: Generates type-safe navigation URLs for playlists and lessons

These utilities abstract URL generation logic and are used throughout NuxtLink hrefs.

## Technology Stack

### Core Dependencies
- **Nuxt 4.2.1**: Meta-framework with auto-imports and file-based routing
- **Vue (latest)**: UI framework
- **Pinia 3.0.4**: State management with composition API
- **Tailwind CSS 4.0.7**: Utility-first CSS via Vite plugin

### Key Integrations

**Tailwind CSS v4** via `@tailwindcss/vite`:
- Custom dark mode variant: `@custom-variant dark (&:where(.dark, .dark *))`
- Typography plugin enabled: `@plugin "@tailwindcss/typography"`
- Custom container utility defined in `assets/css/main.css`
- Variable font configuration: `@theme { --font-sans: 'Open Sans'; }`

**Heroicons** via `@nuxt/icon`:
- SVG icons with aliases defined in `nuxt.config.ts`
- Usage: `<Icon name="code" />` (maps to `heroicons:code-bracket-square-solid`)
- Available aliases: code, cog, fire, puzzle, plane, bars, xMark, globe, bracket

**Google Fonts**:
- Open Sans with variable weights (300-800) and italics
- Auto-loaded via `@nuxtjs/google-fonts` module

## Configuration Files

**`nuxt.config.ts`**: Main configuration
- Modules: Google Fonts, Icon support, Pinia
- Tailwind CSS v4 Vite plugin integration
- Icon aliases for Heroicons
- App metadata (title, etc.)

**`.prettierrc`**: Code formatting
- Tailwind class sorting via `prettier-plugin-tailwindcss`
- Single quotes, no semicolons
- References `assets/css/main.css` for Tailwind config

**`tsconfig.json`**: Extends `.nuxt/tsconfig.json` (auto-generated by Nuxt)

## Development Guidelines

### Adding New Content

To add playlists, lessons, or tags, edit the respective store files:
1. Add new entry to the store's data array
2. Ensure IDs are sequential and unique
3. Reference tag/lesson IDs correctly in playlist definitions
4. Run dev server to verify changes

### Component Development

- Components are auto-imported from `app/components/`
- Follow naming conventions: `App*`, `Playlist*`, `Lesson*`, `Tag*`
- Access stores via `useStore()` composables (auto-imported)
- Use `slugify()` for URL generation, `getPlaylistLink()` for typed navigation

### Styling

- Use Tailwind utility classes (v4 syntax)
- Dark mode supported via `.dark` class on ancestor element
- Typography plugin available for rich text (`prose` classes)
- Custom utilities defined in `assets/css/main.css`

### Data Flow

1. Component mounts and calls store method
2. Store returns reactive data
3. Template renders with Vue directives (v-for, v-if, etc.)
4. User interactions trigger `NuxtLink` navigation
5. New route loads different data from same stores

This content-driven architecture means no API calls or async data fetching is required for core functionality.
